---
title:  "[Code Complete 2] Chapter 8. 방어적인 프로그래밍"
search: true
categories: 
  - 독서
tags:
  - CodeComplete2
classes: wide
---

## 타당하지 않은 입력으로부터 프로그램의 보호
- 기본적으로 모든 인풋을 검사할 것. 
- 쓰레기를 넣으면 쓰레기가 나온다 (X)
- 쓰레기를 넣으면 아무것도 안 나온다 / 에러를 낸다, 쓰레기 자체가 허용되지 않는다 (O)

## 어설션
- 오류 처리는 예상이 되었고 코드에 의해 처리되어야 하는 것, 어설션은 절대 발생하면 안 되는 조건을 위해 사용한다. 
- 프로그램이 클수록 유용하다
- 선행/후행 조건을 문서화하는 용도로 사용하기 좋다.
- 개발/유지보수를 목적으로 한다. 릴리즈용이 아니다!

## 오류 처리 기법
- 오류의 성격에 따라 적절한 처리방식이 다 다를 것. 선택적으로 사용하면 된다.
    - 중립값, 다음 값/이전과 동일한 값/가장 가까운 값, 오류 코드 등을 리턴하기
    - 에러 파일에 기록하기, 아예 종료하기 등
- 오류 처리를 하이레벨에서 할지, 로우레벨에서 할지 결정하고, 일관성 있게 따르라.

## 예외
- 무시되어서는 안 되는 오류를 위해 사용한다. 절대로 일어나서는 안 되는 경우.
- 생성자와 소멸자에서는 쓰지 말 것.
- 신중하게 사용하면 복잡성을 줄일 수 있고, 무분별하게 쓰면 이해하기가 거의 불가능해진다. 그러니 다른 방법이 정말 없는지 한번 더 생각해 보자.

## 오류에 의해 발생하는 손해를 막기 위한 방책
- validation!

## 디버깅 보조 도구
- 공격적인 프로그래밍 : 릴리즈에서는 젠틀하게, 개발에서는 파괴적으로.
- 전처리기, make 등을 잘 활용하기.

## 제품 코드 안에 남는 방어적인 프로그래밍 코드 정하기
- 눈에 띄는 디버깅 멧지ㅣ/충돌코드 코드 지우기.
- 그럼에도 치명적인 오류를 감지해야 한다면 "젠틀하게" 종료될 수 있게 만들어 남겨두기.

## 방어적인 프로그래밍에 대해 방어적이 되는 것
- 방어를 위한 코드가 너무 많으면 트레이드오프가 있다 당연히.

