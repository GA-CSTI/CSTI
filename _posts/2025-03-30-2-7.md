---
title: "final_report"
author: "홍길동"
date: "2025-03-30"
output:
  html_document:
    toc: true
    number_sections: true
  pdf_document:
    toc: true
    number_sections: true
params:
  stat: "SO"  # 분석할 지표: "W", "IPouts", "SO"
---

## 1. 데이터 소개


# 1. 데이터소개
이 보고서는 한국인 메이저리그 투수들의 주요 기록(SO)을 기반으로 분석한 결과를 담고 있습니다.

```r
# 한국 국적 선수 + 투수 데이터 병합
korean_players <- People %>%
  filter(birthCountry == "South Korea") %>%
  select(playerID, nameFirst, nameLast)

korean_pitching <- Pitching %>%
  filter(playerID %in% korean_players$playerID) %>%
  left_join(korean_players, by = "playerID") %>%
  mutate(Name = paste(nameFirst, nameLast),
         Year = yearID)

# 분석용 데이터
stat_data <- korean_pitching %>%
  select(Name, Year, Stat = all_of(params$stat)) %>%
  filter(!is.na(Stat) & Stat > 0)
```
# 2.
# 연도별 선수별 요약 테이블

```r
kable(head(stat_data))
```



|Name           | Year| Stat|
|:--------------|----:|----:|
|Cha-Seung Baek | 2004|   20|
|Cha-Seung Baek | 2006|   23|
|Cha-Seung Baek | 2007|   49|
|Cha-Seung Baek | 2008|   15|
|Cha-Seung Baek | 2008|   77|
|Jung Bong      | 2002|    4|
# 2.시각화

```r
ggplot(stat_data, aes(x = Year, y = Stat, color = Name)) +
  geom_line(size = 1.2) +
  geom_point() +
  labs(title = paste("한국인 투수들의 연도별", params$stat, "기록"),
       x = "연도", y = params$stat) +
  theme_minimal()
```

```
## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## ℹ Please use `linewidth` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning
## was generated.
```

![plot of chunk unnamed-chunk-3](figure/unnamed-chunk-3-1.png)


```r
rmarkdown::render("final_report.Rmd",
                  params = list(stat = "W"),
                  output_file = "wins_report.html")
```

```
## 
## 
## processing file: final_report.Rmd
```

```
## Error in parse_block(g[-1], g[1], params.src, markdown_mode): Duplicate chunk label 'setup', which has been used for the chunk:
## knitr::opts_chunk$set(echo = TRUE)
## library(Lahman)
## library(dplyr)
## library(ggplot2)
## library(knitr)
```

```r
rmarkdown::render("final_report.Rmd",
                  params = list(stat = "IPouts"),
                  output_file = "IPouts_report.html")
```

```
## 
## 
## processing file: final_report.Rmd
```

```
## Error in parse_block(g[-1], g[1], params.src, markdown_mode): Duplicate chunk label 'setup', which has been used for the chunk:
## knitr::opts_chunk$set(echo = TRUE)
## library(Lahman)
## library(dplyr)
## library(ggplot2)
## library(knitr)
```
